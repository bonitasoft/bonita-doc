name: Build PR preview

on:
  pull_request:
    paths:
      - 'modules/**'
      - 'antora.yml'
      - '.github/workflows/build-pr-preview.yml'
jobs:
  validate_xref:
    runs-on: ubuntu-22.04
    steps:
      - name: Validate xref
        # TMP branch from https://github.com/bonitasoft/bonita-documentation-site/pull/698
        uses: bonitasoft/bonita-documentation-site/.github/actions/build-pr-site/@feat/build_single_component_with_branch_from_forked_repo
        with:
          # TMP branch from https://github.com/bonitasoft/bonita-documentation-site/pull/698
          doc-site-branch: feat/build_single_component_with_branch_from_forked_repo
          # newly available in https://github.com/bonitasoft/bonita-documentation-site/pull/698
          component-name: bonita
          fail-on-warning: true
