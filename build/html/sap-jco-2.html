<h1>SAP JCo 2</h1>
<p>The SAP Java Connector (SAP JCo 2) is a toolkit that allows a Java application to communicate with any SAP system.<br>
It combines an easy to use API with unprecedented flexibility and performance.<br>
The package supports both Java to SAP System as well as SAP System to Java calls.</p>
<ul>
<li>The SAP Jco2 connector can be used to call a SAP function (BAPI, RFC or ZBAPI)</li>
<li>High-performance JNI-based RFC middleware</li>
<li>Supports R/3 3.1H and higher</li>
<li>Supports inbound (Java client calls BAPI or RFM) and outbound (ABAP calls Java server) calls</li>
<li>Supports synchronous, transactional (important for IDocs), and queued RFC</li>
<li>Supports client pooling (good for web servers)</li>
<li>JCO 2.1.x is no longer supported by SAP since 31.03.2013</li>
</ul>
<h2>Prerequisite</h2>
<p>You must have an SAP license and an SAP server to use the connector.</p>
<h2>Download and install the SAP connector.zip files</h2>
<p>To connect to an SAP system from Bonita BPM Studio, and have the correct graphic display, you must install the SAP <code>.dll</code> and <code>.jar</code> files onto your (Windows) machine.<br>
You must have a SAP User ID and password to enter the SAP Support Portal to download the files. Go to the <a href="http://service.sap.com/connectors">SAP Service marketplace</a> (you will need to log in first with an account login and password).</p>
<p>JCo2: <code>sapjco-ntamd64-2.1.9</code></p>
<p>Contents of <code>sapjco-ntamd64-2.1.9.zip</code></p>
<ul>
<li><code>demo</code> folder: contains some demos; not needed</li>
<li><code>docs</code> folder: contains the HTML help pages for installation and <code>librfc32.dll</code>: must be installed in the System32 directory</li>
<li><code>Readme.txt</code>: contains instructions</li>
<li><code>sapjco.jar</code>: must be installed in the libraries directory <code>/endorsed</code> of your var-studio install directory</li>
<li><code>sapjcorfc.dll</code>: must be installed in the System32 directory</li>
</ul>
<h2>How to use the contents of the zip file</h2>
<p><strong>Note:</strong> The indications below are found in the <code>Readme.txt</code>.</p>
<ol>
<li>Unzip the contents of the .zip file into a temporary directory, for example: <code>C:\temp\sapjco-ntamd64-2.1.9</code>.</li>
<li>In <code>\docs\jco\</code>, click on <code>installation.html</code>.</li>
</ol>
<h2>Installation of system files</h2>
<h3>For Windows:</h3>
<p>There are different distribution packages for various JRE versions and hardware processors available:</p>
<ul>
<li><code>sapjco-ntintel-2.1.9.zip</code> for a 32-bit JRE running on a 32-bit INTEL x86 or a 64-bit INTEL Itanium processor</li>
<li><code>sapjco-ntia64-2.1.9.zip</code> for a 64-bit JRE running on a 64-bit INTEL Itanium processor</li>
<li><code>sapjco-ntamd64-2.1.9.tgz</code> for a 64-bit JRE running on a 64-bit AMD or INTEL x86 processor</li>
</ul>
<p>To install JCo for Windows:</p>
<ol>
<li>Unzip the appropriate distribution package into an arbitrary directory <code>{sapjco-install-path}</code>.</li>
</ol>
<p><strong>Important:</strong> Do not forget to install the .dll files in the System32 directory for the approptiate Jc0 version.
If you already have an older <code>librfc32.dll</code> in the <code>{windows-dir}\system32</code> directory, replace it with the one that comes with JCo.</p>
<ol start="2">
<li>Add <code>{sapjco-install-path}</code> to the PATH environment variable.</li>
<li>Add <code>{sapjco-install-path}\sapjco.jar</code> to your CLASSPATH environment variable.</li>
</ol>
<h3>For Linux:</h3>
<p>There are different distribution packages for various JRE versions and hardware processors available:</p>
<ul>
<li><code>sapjco-linuxintel-2.1.9.tgz</code> for a 32-bit JRE running on a 32-bit INTEL x86 processor</li>
<li><code>sapjco-linuxia64-2.1.9.tgz</code> for a 64-bit JRE running on a 64-bit INTEL Itanium processor</li>
<li><code>sapjco-linuxppc64-2.1.9.tgz</code> for a 64-bit JRE running on a 64-bit PowerPC processor</li>
<li><code>sapjco-linuxx86_64-2.1.9.tgz</code> for a 64-bit JRE running on a 64-bit AMD or INTEL x86 processor</li>
<li><code>sapjco-linuxs390x-2.1.9.tgz</code> for a 64-bit JRE running on a 64-bit IBM eServer zSeries processor</li>
</ul>
<p>To install JCo for Linux:</p>
<ol>
<li>Copy the appropriate distribution package into an arbitrary directory <code>{sapjco-install-path}</code>.</li>
<li>Change to the installation directory:<br>
<code>cd {sapjco-install-path}</code></li>
<li>Extract the archive:<br>
<code>tar zxvf sapjco-linux*2.1.9.tgz</code></li>
<li>Add <code>{sapjco-install-path}</code> to the LD_LIBRARY_PATH environment variable.</li>
<li>Add <code>{sapjco-install-path}/sapjco.jar</code> to your CLASSPATH environment variable.</li>
</ol>
<h2>How to import the SAP JCo2 library</h2>
<p>In the Teamwork, Efficiency, and Performance editions, import of the jar file by clicking on the <strong><em>Import sapjco.jar</em></strong> button in the connection configuration window. Then restart Bonita BPM Studio.</p>
<p>In the Community edition, there is no import button. The JCo2 library must be imported into the <code>/endorsed</code> directory of your Bonita BPM Studio installation by hand. Then restart Bonita BPM Studio.</p>
<h2>How to configure the SAP JCo2 connector</h2>
<p>Use the wizard to configure the connector. Note the following:</p>
<ul>
<li>In the ****Function definition window, only the function name is required. Enter the name of the function e.g. GET_SYSTEM_NAME</li>
<li>No parameters are needed in the <strong>Input parameters</strong> window.</li>
<li>In the <strong>Output parameters</strong> window, the function name is displayed to confirm that the input is this function. Note:
You can create a blank .html file on your C: drive, which will be filled with the output information from the SAP connector.</li>
<li>In the <strong>Output results</strong> window, you can specify an expression, by clicking the pencil to open the Expression editor.
Set the expression type to <strong>Script</strong>, and enter <code>outputResults.get(0)</code>. In the <strong>Return type</strong>, enter string.</li>
</ul>
<h2>The result</h2>
<p>The result will be shown in the Bonita BPM Portal as a value in a field and in the .html file as a table containing the value or values.</p>
<p><strong>Note:</strong> if you have already created a SAP connector and saved the settings, you can simply click on load, to automatically load the connection settings.</p>
<h2>Advanced features in Subscription Editions</h2>
<p>In the Bonita BPM Teamwork, Efficiency, and Performance editions, the SAP wizard has advanced features: You do not need to know the names of the functions by heart, as the functions are suggested in a dropdown menu.</p>
<ul>
<li>Filter functions by group: a dropdown list listing all the functions by group</li>
<li>Function description: a dropdown list listing all the functions, with auto-complete (just type the first letter e.g. G to give a list of Get functions</li>
<li>Function name: dropdown list</li>
<li>Input parameters: click on a button More information to show a graphic display in the form of a table, of the chosen function</li>
</ul>
