<h1>Database connector configuration</h1>
<p>There are two types of configuration for database connectors:</p>
<ul>
<li>A JDBC connector is a point-to-point connection configured with information to access the database directly.</li>
<li>A datasource connector is a connection to a datasource that is an intermediate point between the user (the Bonita process) and the database.<br>
The advantage of using a datasource is that it can use a connection pool. The details of how the datasource retrieves information and the database it uses are hidden from the connector.</li>
</ul>
<h2>How to configure a JDBC connector</h2>
<p>These configuration steps are the same for all database connectors except the datasource connector.</p>
<ol>
<li>Select the Database connector, for example, JDBC 4 database query. Click <em><strong>Next</strong></em>.</li>
<li>Enter the <strong>Name</strong>, <strong>description</strong>, <strong>event</strong> and<strong>error message</strong> (if any). Click <em><strong>Next</strong></em>.</li>
<li>Select the <strong>.jar file</strong> of the database driver. Click <em><strong>Next</strong></em>.</li>
<li>Enter the <strong>Access information</strong>. Click <em><strong>Next</strong></em>.</li>
<li>Enter the <strong>Input query</strong>. This is a query to send to the database. You can put single or multiple queries separated by a separator.
You can also use the <a href="graphical-query-builder.md">graphical query builder</a> to specify the query. Click <em><strong>Next</strong></em>.</li>
<li>Choose how you want to specify the operations on connector outputs. Choose <strong>Graphical mode</strong> or <strong>Scripting mode</strong>.<br>
The Graphical mode does not require scripting. Click <em><strong>Next</strong></em>.</li>
<li>Specify the output operations, using the <a href="initialize-a-variable-from-a-database-without-scripting-or-java-code.md">Graphical mode</a> or using expressions.</li>
<li>In the <strong>Edit expression window</strong>, set the <strong>provided variable</strong> to get data from the external database.</li>
<li>Click <em><strong>Finish</strong></em>.</li>
</ol>
<p><strong>Note:</strong> in the return type, the type of the variable from the database must match the type of variable which is saved to the process variable.</p>
<h2>How to configure a datasource connector</h2>
<p>Before you can configure the datasource connector, you need to configure the datasource itself, which is done in the application server.<br>
Follow the instructions in your application server documentation. <a href="http://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html#PostgreSQL">See here for an example using Tomcat with PostgreSQL.</a><br>
Configure the connections of the datasource to be created with auto commit set to true.<br>
Make sure that all elements using connections return them to the pool with auto commit still set to true.</p>
<p>A datasource connector can be used in a Database Connection Pool (DBCP). A DBCP is a group of connections. Multiple connections are &quot;reserved&quot; and used as needed.</p>
<p>To configure the datasource connector, you need the following information:</p>
<ul>
<li>The datasource name (for example <code>java:/comp/env/yourDataSource</code>).</li>
<li>Optionally, depending on how the datasource is configured, the properties needed to access it. These are specified as name-value pairs.</li>
</ul>
<p>To configure the datasource connector, follow these steps:</p>
<ol>
<li>Select the <strong>Datasource database query</strong> connector. Click <em><strong>Next</strong></em>.</li>
<li>Enter the <strong>Name</strong>, <strong>Description</strong>, <strong>Event</strong> and <strong>error message</strong> (if any). Click <em><strong>Next</strong></em>.</li>
<li>Specify the datasource name and, optionally, properties. Click <em><strong>Next</strong></em>.</li>
<li>Enter the <strong>Input query</strong>. This is a query to send to the database. You can put single or multiple queries separated by a separator.
You can also use the <a href="graphical-query-builder.md">graphical query builder</a> to specify the query. Click <em><strong>Next</strong></em>.</li>
<li>Choose how you want to specify the operations on connector outputs. Choose <strong>Graphical mode</strong> or <strong>Scripting mode</strong>.
The Graphical mode does not require scripting. Click <em><strong>Next</strong></em>.</li>
<li>Specify the output operations, using the <a href="initialize-a-variable-from-a-database-without-scripting-or-java-code.md">Graphical mode</a> or using expressions.</li>
<li>In the <strong>Edit expression window</strong>, set the <strong>provided variable</strong> to get data from the external database.</li>
<li>Click <em><strong>Finish</strong></em>.</li>
</ol>
