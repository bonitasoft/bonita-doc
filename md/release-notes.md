# Release notes

::: info
**Note:** The 7.11 is currently work in progress (WIP). The 7.11.0 GA is planned on June 2020.
:::

## New values added


<a id="data-management"/>

### Business Data Management in the UI Designer
Introspect and visualize your Business Data model in your UI Designer pages with a few clicks to speed up your development


<a id="bdm-editor"/>

### Business Data Model editor
BDM editor has been reworked, in order to improve the user experience.

<a id="project-documentation"/>

### Generate project documentation
For Teamwork, Efficiency, Performace and Enterprise editions only.
Extract informations from a project sources to generate an asciidoc document. The generation templates can be customized to suit your needs. More details [here](project-documentation-generation.md).


## Improvements

<a id="uipath-cloud"/>

### Integration with UiPath deployed in the Cloud 
## Runtime changes

### lib upgrade
- spring, spring-boot
- hibernate 4 to 5
- ...


## Bundle changes

Upgrade Tomcat from 8.5.47 to 8.5.53 (tomcat-dbcp from 9.0.16 to 9.0.31) **subject to change prior GA**

### Oracle driver

The Oracle jdbc driver does not need to be downloaded separately anymore and is now packaged in the Bonita bundle,
 exactly like the Postgres, Mysql & SQLServer jdbc drivers. 

### Tomcat Manager removal

- the Tomcat Manager is no more provided
- the bundle is not intended to be used to deploy extra webapps
- alternatives exist to deploy extra webapps if still needed

### Tomcat root url redirected to Bonita

Simplify access to bonita by redirecting tomcat root to the bonita webapps.
For instance http://localhost:8080 redirected to http://localhost:8080/bonita

TODO: find other rationales

### Single Bonita log file

All logs are now generated by default in a single `bonita.log` file.

This fixes the following issues that occurred in previous Bonita versions
- empty log files as their related webapps are not packaged within the Bonita Bundle
- some logs related to Bonita activities (in particular, jdbc drivers logs) are generated in `catalina.log`. This was
fixed from version to version, but most of the time, this was done only after receiving external feedback on bug
investigations (information were lost or hidden in catalina log file).
- complex logging configuration to handle which logs are generated to which log file
- hard to follow `localhost` logs and Bonita logs


### Thread name in Bonita logs

**TODO**: improve wording + provide more info

As of Bonita 7.11, the thread name information is added in `bonita.log` (by default, right after the logger name).
This helps tracking the processing when parallel requests are in progress.
```
2020-03-02 17:32:51.529 +0100 INFO (localhost-startStop-1) org.bonitasoft.engine.EngineInitializer Initialization of Bonita Engine done! ( took 8982ms)
2020-03-02 17:33:12.515 +0100 INFO (http-nio-8080-exec-4) org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/bonita] RestletServlet: [Restlet] ServerServlet: component class is null
2020-03-02 17:33:12.792 +0100 INFO (http-nio-8080-exec-1) org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/bonita] RestletServlet: [Restlet] Attaching application: org.bonitasoft.web.rest.server.BonitaRestletApplication@383b5fb0 to URI: /bonita/API
2020-03-02 17:33:12.806 +0100 INFO (http-nio-8080-exec-1) org.restlet.Component.BonitaRestletApplication Starting org.bonitasoft.web.rest.server.BonitaRestletApplication application
2020-03-02 17:33:32.938 +0100 INFO (http-nio-8080-exec-7) org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/bonita] CustomPageRestletServlet: [Restlet] ServerServlet: component class is null
```


## No more migration between maintenance versions of Bonita
Starting with Bonita 7.11.0, it is not necessary to run the Bonita migration tool to upgrade between maintenance versions of Bonita Runtime (between 7.11.**0** and 7.11.**1**, for instance).  
More details on the new procedure [here](migrate-from-an-earlier-version-of-bonita-bpm.md#maintenanceVersionCompatible)  
On the technical side, Bonita 7.11.0 introduces a loose couple between Bonita binaries and the Database schema it runs on. 
There is now a distinction between Bonita Database Schema version and Bonita Runtime version.
The Bonita Database Schema version is a technical number (not accessible through APIs), that changes when the database schema changes.
The Bonita Platform Version is the 3 digit version number we usually use to refer to Bonita.
On startup Bonita now only checks if the database version is compatible with the binaries version, not if they are identical.

Aside of the quality of life update of not having to run a migration between migration versions, this update brings a few behavioral changes:
* Platform.getVersion() method still returns the version of the Bonita runtime binaries (ie. 7.11.0).
* Platform.getPreviousVersion() is now deprecated, and voided (will always return ""). It was not used anywhere. It will be removed in a later version.
* A check has been added in Cluster mode as to forbid the start of nodes in different Bonita platform versions. For example, on a two-node cluster, you can't have a node in 7.11.0 and another in 7.11.1.
The feature of having nodes in different Bonita versions was never supported, though there were cases where it "worked" in previous versions.  

## Bonita Portal transformation

Bonita Portal is being transformed into Bonita Applications. When Bonita Applications are ready, Bonita Portal will be removed.
Developers and users will need to learn how to stop using the Portal and start using Bonita Applications instead.
This change will allow Bonita and its users to get free from Google Web Toolkit (GWT) technology and offer opportunities for customization.
Indeed, some Portal pages (built with GWT) are being totally recreated with our own UI Designer. They will be customizable.
Others (those that were already using another technology than GWT) are being wrapped and will not be customizable.
Moreover, as any Living Application, Bonita applications will be extensible to add any page the users need.
More details in the upcoming versions of Bonita.
Until then, we strongly advise not to create Custom Portal Profiles anymore but applications instead if possible.
When Bonita Portal does not exist anymore, the existing Portal Custom Profiles will need to be migrated into Living applications.

## API Removal

### rest api extension

The classes located in the `org.bonitasoft.console.common.server` have been removed. They have been deprecated since December 2015 as of Bonita 7.2.0

Replacements
- for `PageController`
  - `org.bonitasoft.console.common.server.page.PageContext` by `org.bonitasoft.web.extension.page.PageContext`
  - `org.bonitasoft.console.common.server.page.PageController` by `org.bonitasoft.web.extension.page.PageController`
  - `org.bonitasoft.console.common.server.page.PageResourceProvider` by `org.bonitasoft.web.extension.page.PageResourceProvider`
- for `RestApiController `
  - `org.bonitasoft.console.common.server.page.RestApiController` by `org.bonitasoft.web.extension.rest.RestApiController`
  - `org.bonitasoft.console.common.server.page.RestApiResponse` by `org.bonitasoft.web.extension.rest.RestApiResponse`
  - `org.bonitasoft.console.common.server.page.RestApiResponseBuilder` by `org.bonitasoft.web.extension.rest.RestApiResponseBuilder`
  - `org.bonitasoft.console.common.server.page.PageContext`, `org.bonitasoft.console.common.server.page.PageResourceProvider`,
  `org.bonitasoft.console.common.server.page.RestApiUtil` are no more used and are replaced by
  `org.bonitasoft.web.extension.rest.RestAPIContext`

Examples of replacements are available in the bonita source code
- `PageController` in the [bonita-distrib github repository](https://github.com/bonitasoft/bonita-distrib/commit/f1f9d356c96d4e2807bd8b59376ce57d4af89b9a#diff-caa18f5f325ab429a66c76851e3bdd42)
- `RestApiController` in the [bonita-web github repository](https://github.com/bonitasoft/bonita-web/commit/1387c4c513bdc2bb97071cddefc75d519886ed90#diff-c08aeb7d35cf380be1cdc09fea7ef822)


## Development suite changes

### Increase the default value of the development runtime's maximum memory heap size to 1Gb (512Mo previously)

To avoid memory issues with large bar files deployment the default xmx value has been increased to 1Gb. If you want to revert this change, you can change it in the Studio preferences -> Server settings -> Tomcat Maximum memory allocation.
 
### Complex data-types generation have been removed

This feature was used to generate Java POJOs and XSD in Subscription editions. It is recommend to add your own Java model as jar file in the project classpath or create your [data model using Groovy objects](groovy-in-bonita.md#create-data-model).
