# Release notes

Bonita BPM 7.5 includes a set of new features related to the Living Application development and deployment and UI personalization in addition to important technology updates and bug fixes.

<a id="living-application-development-and-deployment"/>

## Living Application Development and Deployment

### Integration of SSO SAML 2.0
Bonita BPM works with Single-Sign-On (SSO) solutions using SAML V2 protocol `(Teamwork, Efficiency, Performance edition)` : 
* Being able to use standard authentication service 
* Can connect to Bonita apps with my company credentials (per tenant configuration)
* Common SAML 2.0 Identity providers : ADFS (MS Active Directory Federation Services), SalesForce, Open AM, Google Auth,...

### New wizard to import a process in the studio & compare the artifacts 
Bonita BPM Studio provides a wizard when importing a .bos that display the duplicate artifacts (forms, connectors, ...)  and ask for actions to the users. Usual actions are proposed to user for every artifacts : keep existing or overwrite with the new import :
* Ease collaboration between teams who works with .bos exchange
* Ease the collaboration by file exchange and reduce drastically the risk of overwrite error during import of a .bos.

### Industrialization of Living Application (in Studio)
In Bonita BPM Studio, provide an editor to create the Living Application navigation without having to go on the Portal administration. This is the first step towards the full Application artifacts development into the Bonita BPM Studio in future versions `(Efficiency, Performance edition)` :
* Create and edit Living Application navigation descriptor in Studio. 
* Construct application navigation from inside Studio based on existing artifacts.
* Store the descriptor in your VCS.
* Deploy on the local Portal to preview the Living Application and export for your production environment. 

<a id="ui-personalization"/> 

## UI personalization

### New management of date/time
New management of date and time to properly manage Living Applications used across multiple timezones. It now follows the philosophy of Java 8 date management :
* Benefit from the Java 8 improvement of date/time management in order to better manage timezones in UI (forms and pages). Ensure the use cases of : 
    * entering and display a birthdate (no timezone impact).
    * define and display meeting date and hour (timezone related).
    * define and display a flight arrival date (local timezone).
* Note this update does not change the way dates are displayed on the Bonita Portal.

### Link widget and preview improvement
The Link widget as been improved in order to support more use cases and it can now be tested in the preview in most cases. The improvements are:
* Addition of a new property to pass pass additional query parameters when creating a link to a form or a page
* Addition of a new property to pass the name of the target application (useful in the preview when you want to test a link to an application page or when you need to redirect to another application)
* The URL of the preview can be edited to pass additional parameters in the query string in web browsers supporting it (currently, only Firefox)

<a id="technology-updates"/>

## Technology updates

### Full Java 8 support
Bonita BPM is fully compatible with java 8 in production and development environment. It allows to write java 8 extension points (Connectors, Actor Filters, Custom Pages, ...). Java 8 syntax and specific APIs can now be fully used in all Bonita BPM [extensions points](software-extensibility.md#stable_extension_points).
JRE or JDK 8+ is *required* to run. Bonita BPM 7.5.0+ cannot be operated on Java 7 anymore.

### Support of Microsoft Edge
Bonita web tools and user interfaces are fully compatible with the Microsoft Edge and IE 11 browsers (UI Designer editor, All artifacts generated by UID (Forms, Pages, ...), Bonita Portal). 

### Removed support 
* Remove support for Oracle Weblogic application server
Bonita BPM 7.5.0+ does not support Oracle Weblogic application server anymore.  
Refer to [full software requirements](hardware-and-software-requirements.md) for more details on supported environments.
* Remove support for Internet Explorer 9 and 10
Bonita BPM 7.5.0+ does not support Internet Explorer 9 and 10 anymore.  
Refer to [full software requirements](hardware-and-software-requirements.md) for more details on supported environments.

### Other dependency updates
* hibernate is updated to 4.3.11, to support JPA 2.1 specification
* httpclient is updated to httpclient 4.5.2
* httpcore is updated to httpcore 4.4.4
* spring is updated to spring 4.3.7

### API removals

* Engine APIs have been cleaned up from some deprecated methods:
  * ProcessAPI.addComment() - replacement method is [ProcessAPI.addProcessComment()](http://documentation.bonitasoft.com/javadoc/api/${varVersion}/org/bonitasoft/engine/api/ProcessRuntimeAPI.html#addProcessComment-long-java.lang.String-)
  
## Breaking changes

### UI Designer

#### Ui-bootstrap.js library removed from runtime
In our first design iteration, forms, pages and layouts designed with the UI Designer embedded 
[UI Bootstrap js, version 0.13.4](http://angular-ui.github.io/bootstrap/versioned-docs/0.13.4/) by default and silently,
even when not needed. We have removed it so you can use it only when you need it, and with the version you choose. 

This will not affect any artifact that has been created with the UI Designer and is currently deployed in Bonita BPM Platform.

Before this change, user could create custom widgets based on angular-bootstrap v0.13.0 without adding explicitly
angular-bootstrap has an asset and without declaring required modules.
Custom widgets that has been created this way (which is not the right way to go) will not work anymore and need to 
be changed to include angular-bootstrap has an asset and to declare the right required modules.
  
#### Forms, pages, layouts CSS cleaned
Default CSS file embedded in UI Designer artifacts (except custom widgets) has been cleaned. Indeed some of those CSS
rules were overall not used and clutter this file.
 
This will not affect any artifact that has been created with the UI Designer and is currently deployed in Bonita BPM Platform.

Nevertheless some unwanted style could appear when importing a custom layout based on the default layout of Bonita < 7.5.0.
If you do so and observe that the layout menu does not fit the whole width of your page, you can bring back the default 
style by adding the following lines in `layout.css` file.
```css
.component .container {
     width: 100%;
 }
```
The most wanted choice would be to re-create the custom layout from Bonita 7.5.0+ default layout 

## Limitations and known issues
* **MacOS Sierra (10.12)**: **Bonita BPM Studio** installed using the `zip` package fails during launch. Bonita BPM can successfully be installed on **MacOS Sierra** using the `dmg` package
* **MacOS** environment: starting from **MacOS El Capitan 10.11.4** (March 2016), new security rules block the launch of **Bonita BPM Studio**. You must temporarily remove security on `App` launching in _System Preferences→Security & Confidentiality_.

## Bug fixes 

### Fixes in Bonita BPM 7.5.0
* BS-12872 Cannot retry a task if the displayName script fails
* BS-15232 Web Service Connector failed when receiveing HTTP Code status 307
* BS-15721 Import a layout from 7.x (prior to 7.3) into 7.3 UIdesigner overrides the widgets
* BS-15730 getProcessBusinessDataReferences : NullPointerException if BusinessData is multiple AND list contains a null
* BS-15796 Angular bootstrap 0.13.0 is included in vendor.js during runtime
* BS-15799 When path contains a special character (accent) then widget directive fails to build.
* BS-15822 Cannot use SOURCE_OBJECT_ID in the Search API of Archived Comments
* BS-15868 Upload field in V6 legacy forms raised a SEVERE harmless error
* BS-15899 With CAS, Redirect URL drops id parameter if the process name contains "id" in the name
* BS-15913 SSO - CAS: service parameter is not properly checked on the URL
* BS-15949 Form V6 URL can be used to list all process instance variable values (autogenerated form).
* BS-15956 Postgres processes are stuck to 100% for a while due to SQL requests involving user_ and actor tables
* BS-15962 bonita.cluster.name property is not used to set the cluster name for the MulticastJoiner from Hazelcast
* BS-15977 Variable completion doesn't work if NOT operator (!) is used
* BS-15984 Custom Layout - Adding widgets on top of the widget menu increase its height
* BS-16006 Impossible to add row on a editable grid in a V6 form
* BS-16046 File name not refreshed in File upload widget after file deletion and re-upload of the same file
* BS-16067 DATA TABLE paging is not usable
* BS-16078 WIDGET LINK + Human Task / Instantiation / Overview is broken in preview
* BS-16105 UI Designer Editor 7.4 is not working on Safari
* BS-16115 Request Key and License file contain a wrong osName with Windows 10 and java8_u40 - License Error 27,423
* BS-16121 Only one translation key between server/"build" menu and REST API/"build" button which leads to a wrong translation
* BS-16168 Several catch Link events and inclusive and parallel gateways wrong behavior
* BS-16169 Unique catch Link event receiving several throw links event and inclusive and parallel gateways wrong behavior
* BS-16187 Updating MULTI_INSTANCE_ACTIVITY task state to "skipped" does not update state of "child" task instances
* BS-16213 Cannot Resume BPM Services with wildfly + oracle /11g R2 after installing bdm.zip
* BS-16221 Page title is incoherent with page message, 404 error vs. 403
* BS-16241 X-Bonita-API-Token Duplicated in login response header
* BS-16273 SVN repository Migration loses Form critical files
* BS-16280 StringIndexes / search keys are not updated in sub-processes
* BS-16282 Parent process stringindex (search key) is updated with a human task's operation part of a subprocess
* BS-16288 Cannot use Japaneses in Repository name
* BS-16291 To delete and then instantiate a BO list in the same task operations fails
* BS-16292 Create a new form is missing
* BS-16298 TimeoutException is hidden when it occurs during actor filter execution
* BS-16311 BDM deployment confirm message not translated in French
* BS-16317 ClosedChannelException occured when bitronix is writing to its DiskJournal
* BS-16339 Browse H2 database not working on Windows if install folder includes spaces
* BS-16345 Rich text Area Preview raises errors in the developer tool console debug
* BS-16364 Enable to type € character in custom widget template on Windows
* BS-16366 Can not reopen the preview popup on Safari
* BS-16377 Generate documentation - non-interruptive boundary events not reported properly
* BS-16409 Whole Portal displayed Half screen in IE11 version 11.0.40 (windows Update KB4012204)
* BS-16410 Remove example on businessDataReference API since it is deprecated
* BS-16415 Typo in BOSWebServerManager.java imply that tech user password MUST equal tech user name
* BS-16451 taskAssigneeId cannot be resolved
* BS-16454 Can not initialize a business object with a query with parameters - value not saved in Studio
* BS-16486 Document cannot be used as connectors inputs
* BS-16504 Business object lost and transformed in string when used in a email connector after a change
* BS-16507 UI Designer Preview: Uncaught DOMException: Failed to construct 'WebSocket'
* BS-16511 Editing group description breaks relation with child group
* BS-16517 Contract "Add Data" with a document fails
* BS-16531 Remove link between contract input description and widget placeholder in form generated by the developer
